---
import MainLayout from '../layouts/Layout.astro';
---

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.querySelector('form');
    const modal = document.getElementById('modal');
    const closeModalButton = document.getElementById('close-modal');

    function handleSubmit(e) {
      e.preventDefault(); // Prevenir el envío del formulario

      // Mostrar el modal
      modal.style.display = 'block';
    }

    // Añadir listener para el envío del formulario
    form.addEventListener('submit', handleSubmit);

    // Cerrar el modal y limpiar el formulario cuando se presiona el botón de cerrar
    closeModalButton.addEventListener('click', () => {
      modal.style.display = 'none';

      // Limpiar el formulario después de cerrar el modal
      form.reset();
    });
  });
</script>

<MainLayout title="Registro al Curso">
  <div class="min-h-screen bg-[#EFE8C1] flex items-center justify-center">
    <div class="bg-[#D9D9D9] p-6 rounded-lg shadow-lg max-w-lg w-full">
      
      <form>
        <h1 class="text-2xl font-bold mb-4 text-[#4F774D]">Registro al Curso</h1>
        
        <!-- Nombres -->
        <label for="nombres" class="block text-[#4F774D] font-semibold">Nombres:</label>
        <input type="text" id="nombres" name="nombres" required class="w-full p-2 mt-1 mb-4 border border-[#A16436] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#94C77E]">
        
        <!-- Apellidos -->
        <label for="apellidos" class="block text-[#4F774D] font-semibold">Apellidos:</label>
        <input type="text" id="apellidos" name="apellidos" required class="w-full p-2 mt-1 mb-4 border border-[#A16436] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#94C77E]">
        
        <!-- Nivel de educación -->
        <label for="educacion" class="block text-[#4F774D] font-semibold">Nivel de educación:</label>
        <select id="educacion" name="educacion" required class="w-full p-2 mt-1 mb-4 border border-[#A16436] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#94C77E]">
          <option value="preescolar">Educación preescolar</option>
          <option value="primaria">Educación básica (primaria y secundaria)</option>
          <option value="media">Educación media (bachiller)</option>
          <option value="superior">Educación superior</option>
        </select>

        <!-- Subir certificado -->
        <label for="certificado" class="block text-[#4F774D] font-semibold">Subir certificado (PDF):</label>
        <input type="file" id="certificado" name="certificado" accept=".pdf" required class="w-full p-2 mt-1 mb-4 border border-[#A16436] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#94C77E]">
        
        <!-- Botón de enviar -->
        <button type="submit" class="w-full bg-[#4F774D] text-white py-2 px-4 rounded-lg hover:bg-[#3B5D3A]">
          Enviar datos
        </button>
      </form>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-white p-6 rounded-lg shadow-lg max-w-md w-full">
      <h2 class="text-xl font-bold mb-4 text-[#4F774D]">¡Formulario Enviado!</h2>
      <p class="mb-4 text-[#8AB6D6]">Los datos serán validados en 24 horas.</p>
      <button id="close-modal" class="w-full bg-[#4F774D] text-white py-2 px-4 rounded-lg hover:bg-[#3B5D3A]">Cerrar</button>
    </div>
  </div>
</MainLayout>
